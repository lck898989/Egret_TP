var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},DragAnyMakeOptionalChooseBtn=function(t){function e(){var e=t.call(this)||this;return e.isNewItem=!1,e.ImgList=[],e.curMoveItemIndex=-2,e.rectListSelect=[],e.imgSelected=null,e.indexTrueAnswer=-1,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t.reset)this.resetData();else if(t.choose){var e=parseInt(t.choose.chooseIndex);this.revChooseHandle(e)}else if(t.touchBegin){var i=t.touchBegin.isNewItem,n=t.touchBegin.curIndexStr,r=parseInt(t.touchBegin.targetX),s=parseInt(t.touchBegin.targetY);this.revStartHandle(i,n,r,s)}else if(t.touchMove){var r=parseInt(t.touchMove.targetX),s=parseInt(t.touchMove.targetY);this.revMoveHandle(r,s)}else if(t.touchEndLayer){var o=t.touchEndLayer.isCancelStr,h=t.touchEndLayer.isNewItemStr,r=parseInt(t.touchEndLayer.targetX),s=parseInt(t.touchEndLayer.targetY),a=parseInt(t.touchEndLayer.deleteIndex);this.revEndHandle(o,h,r,s,a)}},e.prototype.initData=function(){this.targetList=[],this.imgSelected&&(this.imgSelected.visible=!1)},e.prototype.initSelectData=function(t,e,i){t&&e&&null!=i?(this.rectListSelect=t,this.imgSelected=e,this.indexTrueAnswer=i):Log.trace("DragAnyOptionalChooseBtn","initSelectData error args is null")},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}if(this.rectListSelect)for(var n=0,r=this.rectListSelect;n<r.length;n++){var i=r[n];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchTapChooseRectEvent=function(t){var e=this.rectListSelect.indexOf(t.currentTarget);if(e>-1){this.imgSelected&&(this.imgSelected.visible=!0,this.imgSelected.x=t.currentTarget.x,this.imgSelected.y=t.currentTarget.y),e==this.indexTrueAnswer?lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:1,movie:"success",movieCount:2},!1)):lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:2,movie:"failed",movieCount:2},!1));var i=new Object;i.chooseIndex=e.toString();var n={method:"onFileMessage",keyName:"choose",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}else Log.trace("DragAnyOptionalChooseBtn"," touchTapChooseRectEvent error  index error ")},e.prototype.touchBeginOriginalEvent=function(t){var e=this.ImgList.indexOf(t.target);if(e>=-1){this.curMoveItemIndex=e,this.isNewItem=!0,this.curMoveItemObj=this.newObjForTouchBegin(t.target,t.stageX,t.stageY);var i=new Object;i.isNewItem="1",i.curIndexStr=e.toString(),i.targetX=t.stageX.toString(),i.targetY=t.stageY.toString();var n={method:"onFileMessage",keyName:"touchBegin",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}},e.prototype.newObjForTouchBegin=function(t,e,i){var n=this.group.globalToLocal(e,i),r=t.source,s=new eui.Image(r);return s.anchorOffsetX=t.anchorOffsetX,s.anchorOffsetY=t.anchorOffsetY,s.rotation=t.rotation,s.x=n.x,s.y=n.y,this.group.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),s},e.prototype.deleteObj=function(t){t&&(t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),this.group.removeChild(t))},e.prototype.touchBeginMakedItemEvent=function(t){var e=0;for(var i in this.targetList){var n=this.targetList[i];n==t.currentTarget&&(e=parseInt(i))}if(e>=-1){var r=this.group.numChildren;this.group.setChildIndex(t.target,r-1),this.curMoveItemIndex=e,this.isNewItem=!1,this.curMoveItemObj=t.target;var n=new Object;n.isNewItem="0",n.curIndexStr=e.toString(),n.targetX=t.stageX.toString(),n.targetY=t.stageY.toString();var s={method:"onFileMessage",keyName:"touchBegin",value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveItemObj){var e=this.curMoveItemObj;if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchMove",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){var e=0,i=0,n=0,r=0,s=-2;if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){var o=(this.curMoveItemObj,t.stageX),h=t.stageY;n=t.stageX,r=t.stageY,this.curMoveItemObj.x=o,this.curMoveItemObj.y=h;var a=this.rectCancle.hitTestPoint(o,h);if(a)if(e=1,this.isNewItem)i=1,this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else{i=0;var c=0;for(var v in this.targetList){var g=this.targetList[v];g==this.curMoveItemObj&&(c=parseInt(v))}s=c,this.targetList.splice(c,1),this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else e=0,this.isNewItem?(i=1,this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):(i=0,this.curMoveItemObj=null)}var u=new Object;u.isCancelStr=e.toString(),u.isNewItemStr=i.toString(),u.targetX=n.toString(),u.targetY=r.toString(),u.deleteIndex=s.toString();var l={method:"onFileMessage",keyName:"touchEndLayer",value:u};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",l,!1))},e.prototype.resetData=function(){if(this.targetList&&this.targetList.length>0){for(var t=0,e=this.targetList;t<e.length;t++){var i=e[t];this.deleteObj(i)}this.targetList=[]}},e.prototype.touchTapEvent=function(t){this.resetData();var e={method:"onFileMessage",keyName:"reset",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.destoryData=function(){this.resetData(),delete this.ImgList,this.ImgList=[],delete this.rectListSelect,this.rectListSelect=[],delete this.imgSelected,this.imgSelected=null},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}if(this.rectListSelect)for(var n=0,r=this.rectListSelect;n<r.length;n++){var i=r[n];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.revChooseHandle=function(t){if(t>-1){var e=this.rectListSelect[t];this.imgSelected&&e&&(this.imgSelected.visible=!0,this.imgSelected.x=e.x,this.imgSelected.y=e.y),t==this.indexTrueAnswer?lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:1,movie:"success",movieCount:2},!1)):lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:2,movie:"failed",movieCount:2},!1))}},e.prototype.revStartHandle=function(t,e,i,n){if("1"==t){var r=parseInt(e),s=this.ImgList[r];s?this.curMoveItemObj=this.newObjForTouchBegin(s,i,n):Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 1")}else{var r=parseInt(e),s=this.targetList[r];if(s){var o=this.group.numChildren;this.group.setChildIndex(s,o-1),this.curMoveItemObj=s}else Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 0")}},e.prototype.revMoveHandle=function(t,e){var i=this.curMoveItemObj;if(i){var n=this.globalToLocal(t,e);i.x=n.x,i.y=n.y}},e.prototype.revEndHandle=function(t,e,i,n,r){if("1"==t)if("1"==e)this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else if(r>=-1){var s=r;this.targetList.splice(s,1),this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else Log.trace("DragAnyMakeForMaxAndCancleScene","revEndHandle error  index to obj not find ");else"1"==e?(this.curMoveItemObj&&this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):this.curMoveItemObj=null},e}(UIObject);__reflect(DragAnyMakeOptionalChooseBtn.prototype,"DragAnyMakeOptionalChooseBtn");var CoursewareDefines=function(){function t(){}return t.version=17,t}();__reflect(CoursewareDefines.prototype,"CoursewareDefines");var ClickBtnToShowScene=function(t){function e(){var e=t.call(this)||this;return e.CurState=-1,e.btnList=[],e.ImgList=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.CurState=-1,this.refreshStateView(),this.initAddEvent()},e.prototype.onDestroy=function(){for(var t=0,e=this.btnList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)}this.rect_bg&&this.rect_bg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapBgEvent,this),delete this.btnList,this.btnList=[],delete this.ImgList,this.ImgList=[]},e.prototype.execMessage=function(t){null!=t.refreshState&&this.revNextLayerHandle(t.refreshState)},e.prototype.initAddEvent=function(){for(var t=0,e=this.btnList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)}this.rect_bg&&this.rect_bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapBgEvent,this)},e.prototype.touchTapEvent=function(t){var e=this.btnList.indexOf(t.currentTarget);-1>=e||(this.CurState=e,this.refreshStateView(),CommunicationManager.getInstance().makePostMessage("onFileMessage","refreshState",this.CurState))},e.prototype.touchTapBgEvent=function(t){this.CurState=-1,this.refreshStateView(),CommunicationManager.getInstance().makePostMessage("onFileMessage","refreshState",this.CurState)},e.prototype.refreshStateView=function(){if(this.CurState<=-1)for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];if(i&&i.length>0)for(var n=0,r=i;n<r.length;n++){var s=r[n];s.visible=!1}}else{for(var o=0,h=this.ImgList;o<h.length;o++){var i=h[o];if(i&&i.length>0)for(var a=0,c=i;a<c.length;a++){var s=c[a];s.visible=!1}}if(this.ImgList[this.CurState]){var i=this.ImgList[this.CurState];if(i.length>0)for(var v=0,g=i;v<g.length;v++){var s=g[v];s.visible=!0}}}},e.prototype.revNextLayerHandle=function(t){this.CurState=t,this.refreshStateView()},e}(UIObject);__reflect(ClickBtnToShowScene.prototype,"ClickBtnToShowScene");var ClickHideScene=function(t){function e(){var e=t.call(this)||this;return e.ImgSelectedList=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destroyEvent(),this.destroyData()},e.prototype.execMessage=function(t){if(t.choose){var e=parseInt(t.choose.chooseIndex);this.revChooseHandle(e)}else t.reset&&this.resetData()},e.prototype.initData=function(){for(var t in this.ImgSelectedList){var e=this.ImgSelectedList[parseInt(t)];e&&(e.visible=!0)}},e.prototype.initAddEvent=function(){if(this.ImgSelectedList)for(var t=0,e=this.ImgSelectedList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapImgEvent,this)}this.btnReset&&this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapResetEvent,this)},e.prototype.resetData=function(){for(var t in this.ImgSelectedList){var e=this.ImgSelectedList[parseInt(t)];e&&(e.visible=!0)}},e.prototype.touchTapImgEvent=function(t){var e=this.ImgSelectedList.indexOf(t.currentTarget);if(e>-1){for(var i in this.ImgSelectedList){var n=this.ImgSelectedList[parseInt(i)];n&&parseInt(i)==e&&(n.visible=!1)}var r=new Object;r.chooseIndex=e.toString();var s={method:"onFileMessage",keyName:"choose",value:r};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}else Log.trace("ClickHideScene"," touchTapChooseRectEvent error  index error ")},e.prototype.destroyData=function(){this.resetData(),delete this.ImgSelectedList,this.ImgSelectedList=[]},e.prototype.destroyEvent=function(){if(this.ImgSelectedList)for(var t=0,e=this.ImgSelectedList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapImgEvent,this)}this.btnReset&&this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapResetEvent,this)},e.prototype.touchTapResetEvent=function(t){this.resetData();var e={method:"onFileMessage",keyName:"reset",value:"1"};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.revChooseHandle=function(t){if(t>-1)for(var e in this.ImgSelectedList){var i=this.ImgSelectedList[parseInt(e)];i&&parseInt(e)==t&&(i.visible=!1)}},e}(UIObject);__reflect(ClickHideScene.prototype,"ClickHideScene");var ClickItemForShowPhaseScene=function(t){function e(){var e=t.call(this)||this;return e.clickItemArr=new Array,e.showPhaseArr=new Array,e.showIndexArr=new Array,e}return __extends(e,t),e.prototype.onDestroy=function(){for(var t=0;t<this.clickItemArr.length;t++)this.clickItemArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doShowNextPhaseItemHandle,this);for(var t=0;t<this.showPhaseArr.length;t++){for(var e=0;e<this.showPhaseArr[t].length;e++)this.showPhaseArr[t][e].visible=!1;this.showIndexArr[t]=0}this.backImg&&this.backImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBackInitHandle,this)},e.prototype.execMessage=function(t){if(t.showPhase){var e=Number(t.showPhase.name),i=Number(t.showPhase.phase);this.showPhaseArr[e-1][i].visible=!0,this.showIndexArr[e-1]=i}else t.backInit&&this.initScene()},e.prototype.initScene=function(){if(!(this.clickItemArr.length<=0||this.showPhaseArr.length<=0)){this.showIndexArr=[];for(var t=0;t<this.clickItemArr.length;t++)this.clickItemArr[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.doShowNextPhaseItemHandle,this),this.clickItemArr[t].name=String(t+1);for(var t=0;t<this.showPhaseArr.length;t++){for(var e=0;e<this.showPhaseArr[t].length;e++)this.showPhaseArr[t][e].name=String(t+1)+"_"+String(e),this.showPhaseArr[t][e].visible=!1;var i=0;this.showIndexArr.push(i)}this.backImg&&this.backImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBackInitHandle,this)}},e.prototype.doShowNextPhaseItemHandle=function(t){var e=t.currentTarget.name;if(!(this.showIndexArr[Number(e)-1]>this.showPhaseArr[Number(e)-1].length-1)){this.showPhaseArr[Number(e)-1][this.showIndexArr[Number(e)-1]].visible=!0,this.showIndexArr[Number(e)-1]++;var i=new Object;i.name=e,i.phase=this.showIndexArr[Number(e)-1]-1;var n={method:"onFileMessage",keyName:"showPhase",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}},e.prototype.doBackInitHandle=function(){this.initScene();var t={method:"onFileMessage",keyName:"backInit",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",t,!1))},e}(UIObject);__reflect(ClickItemForShowPhaseScene.prototype,"ClickItemForShowPhaseScene");var ClickMoveFromPathScene=function(t){function e(){var e=t.call(this)||this;return e.curPosIndex=0,e.curSpeed=.3,e.ImgSelectedList=[],e.posList=[],e.ImgIndexToPosIndex=[],e.rightRot=0,e.isRotation=!0,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destroyEvent(),this.destroyData()},e.prototype.execMessage=function(t){if(t.moveToPosForIndex){var e=Number(t.moveToPosForIndex.index);this.moveToPosForIndex(e)}},e.prototype.initData=function(){if(this.curPosIndex=0,this.curMoveObj&&(this.initRot=this.curMoveObj.rotation,this.posList[0])){var t=this.posList[0],e=this.curMoveObj;e.x=t.x,e.y=t.y,this.curPosIndex=0}},e.prototype.getAngle=function(t,e,i,n){var r=i-t,s=n-e,o=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),h=r/o,a=Math.acos(h),c=180/(Math.PI/a);return 0>s?c=-c:0==s&&0>r&&(c=180),c},e.prototype.moveToPosForIndex=function(t){if(this.curMoveObj){var e=function(t,e){this.setPosIndex(e);var i=this.curMoveObj,n=this.getAngle(i.x,i.y,t.x,t.y);this.isRotation&&(i.rotation=n+this.rightRot)},i=[],n=0,r=1;if(n=0==this.curPosIndex?0:this.curPosIndex,r=this.ImgIndexToPosIndex[t],r>n)for(var s=n+1;r>=s;s++){var o=this.posList[s];o&&i.push(o)}else{if(!(n>r))return void this.moveCallBack(t);for(var s=n-1;s>=r;s--){var o=this.posList[s];o&&i.push(o)}}if(i.length>0){egret.Tween.removeTweens(this.curMoveObj);var h=egret.Point.distance(new egret.Point(this.curMoveObj.x,this.curMoveObj.y),i[0])/this.curSpeed,a=egret.Tween.get(this.curMoveObj).call(e,this,[i[0],n+0]).to({x:i[0].x,y:i[0].y},h);if(i.length>1)for(var s=1;s<i.length;s++){var c=s,v=egret.Point.distance(i[c-1],i[c])/this.curSpeed,g=a.call(e,this,[i[c],n+c]).to({x:i[c].x,y:i[c].y},v);a=g}a.call(this.moveCallBack,this,[t])}}},e.prototype.setPosIndex=function(t){this.curPosIndex=t},e.prototype.moveCallBack=function(t){this.curPosIndex=this.ImgIndexToPosIndex[t]},e.prototype.initAddEvent=function(){if(this.ImgSelectedList)for(var t=0,e=this.ImgSelectedList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapImgEvent,this)}},e.prototype.resetData=function(){},e.prototype.touchTapImgEvent=function(t){var e=this.ImgSelectedList.indexOf(t.currentTarget);if(e>-1){this.moveToPosForIndex(e);var i=new Object;i.index=e.toString();var n={method:"onFileMessage",keyName:"moveToPosForIndex",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}else Log.trace("ClickMoveFromPathScene"," touchTapChooseRectEvent error  index error ")},e.prototype.destroyData=function(){this.resetData(),this.curMoveObj&&(this.curMoveObj.rotation=this.initRot,egret.Tween.removeTweens(this.curMoveObj)),delete this.ImgSelectedList,this.ImgSelectedList=[],delete this.posList,this.posList=[],delete this.ImgIndexToPosIndex,this.ImgIndexToPosIndex=[],this.rightRot=0},e.prototype.destroyEvent=function(){if(this.ImgSelectedList)for(var t=0,e=this.ImgSelectedList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapImgEvent,this)}},e}(UIObject);__reflect(ClickMoveFromPathScene.prototype,"ClickMoveFromPathScene");var ClickOneChooseScene=function(t){function e(){var e=t.call(this)||this;return e.ImgSelectedList=[],e.rectListSelect=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destroyEvent(),this.destroyData()},e.prototype.execMessage=function(t){if(t.choose){var e=parseInt(t.choose.chooseIndex);this.revChooseHandle(e)}},e.prototype.initData=function(){for(var t in this.ImgSelectedList){var e=this.ImgSelectedList[parseInt(t)];e&&(e.visible=!1)}},e.prototype.initAddEvent=function(){if(this.rectListSelect)for(var t=0,e=this.rectListSelect;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}},e.prototype.resetData=function(){for(var t in this.ImgSelectedList){var e=this.ImgSelectedList[parseInt(t)];e&&(e.visible=!1)}},e.prototype.touchTapChooseRectEvent=function(t){var e=this.rectListSelect.indexOf(t.currentTarget);if(e>-1){for(var i in this.ImgSelectedList){var n=this.ImgSelectedList[parseInt(i)];n&&(parseInt(i)==e?n.visible=!0:n.visible=!1)}var r=new Object;r.chooseIndex=e.toString();var s={method:"onFileMessage",keyName:"choose",value:r};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}else Log.trace("DragAnyOptionalChooseBtn"," touchTapChooseRectEvent error  index error ")},e.prototype.destroyData=function(){this.resetData(),delete this.ImgSelectedList,this.ImgSelectedList=[],delete this.rectListSelect,this.rectListSelect=[]},e.prototype.destroyEvent=function(){if(this.rectListSelect)for(var t=0,e=this.rectListSelect;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}},e.prototype.revChooseHandle=function(t){if(t>-1)for(var e in this.ImgSelectedList){var i=this.ImgSelectedList[parseInt(e)];i&&(parseInt(e)==t?i.visible=!0:i.visible=!1)}},e}(UIObject);__reflect(ClickOneChooseScene.prototype,"ClickOneChooseScene");var ClockTouchScene=function(t){function e(){var e=t.call(this)||this;return e.clockImgArr=[],e._initPosArr=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.initScene(),this.initAddEvent()},e.prototype.onDestroy=function(){for(var t=0;t<this.clockImgArr.length;t++)this.clockImgArr[t].hasEventListener(egret.TouchEvent.TOUCH_BEGIN)&&this.clockImgArr[t].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doTouchBeginHandle,this);this.clockImgArr=[]},e.prototype.execMessage=function(t){if(t.moveIng){var e=t.moveIng.itemName,i=Number(t.moveIng.itemRotation);this.revMoveingHandle(e,i)}else if(t.moveEnd){var n=t.moveEnd.itemName,i=Number(t.moveEnd.itemRotation);this.revMoveEndHandle(n,i)}},e.prototype.initScene=function(){if(this._initPosArr.length<=0)for(var t=0;t<this.clockImgArr.length;t++)this._initPosArr.push(this.clockImgArr[t].x),this._initPosArr.push(this.clockImgArr[t].y);else for(var t=0;t<this.clockImgArr.length;t++)this.clockImgArr[t].x=this._initPosArr[2*t],this.clockImgArr[t].y=this._initPosArr[2*t+1];for(var t=0;t<this.clockImgArr.length;t++)this.clockImgArr[t].pixelHitTest=!0,this.clockImgArr[t].name=String(t)},e.prototype.initAddEvent=function(){for(var t=0;t<this.clockImgArr.length;t++)this.clockImgArr[t].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doTouchBeginHandle,this)},e.prototype.doTouchBeginHandle=function(t){this._touchImg=t.currentTarget,this._touchImg&&(this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.doTouchMoveHandle,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.doTouchEndHandle,this))},e.prototype.doTouchMoveHandle=function(t){if(!this._touchImg)return void this.stop();var e=t.stageX-this._touchImg.x,i=t.stageY-this._touchImg.y;this._touchImg.rotation=Math.atan2(i,e)/Math.PI*180+90;var n=new Object;n.itemName=this._touchImg.name,n.itemRotation=this._touchImg.rotation,CommunicationManager.getInstance().makePostMessage("onFileMessage","moveIng",n)},e.prototype.stop=function(){this.stage.hasEventListener(egret.TouchEvent.TOUCH_MOVE)&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.doTouchMoveHandle,this),this._touchImg.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)&&this._touchImg.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doTouchBeginHandle,this),this.stage.hasEventListener(egret.TouchEvent.TOUCH_END)&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.doTouchEndHandle,this)},e.prototype.doTouchEndHandle=function(t){if(this._touchImg){this.stage.hasEventListener(egret.TouchEvent.TOUCH_MOVE)&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.doTouchMoveHandle,this),this.stage.hasEventListener(egret.TouchEvent.TOUCH_END)&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.doTouchEndHandle,this);var e=new Object;e.itemName=this._touchImg.name,e.itemRotation=this._touchImg.rotation,CommunicationManager.getInstance().makePostMessage("onFileMessage","moveEnd",e)}},e.prototype.revMoveingHandle=function(t,e){this._touchImg=this.group.getChildByName(t),this._touchImg&&(this._touchImg.rotation=e)},e.prototype.revMoveEndHandle=function(t,e){this._touchImg=this.group.getChildByName(t),this._touchImg&&(this._touchImg.rotation=e)},e}(UIObject);__reflect(ClockTouchScene.prototype,"ClockTouchScene");var DragAnyMakeAndCancleComponent=function(t){function e(){var e=t.call(this)||this;return e.isNewItem=!1,e.ImgList=[],e.curMoveItemIndex=-2,e.curComponentIndex=0,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveItemObj){var e=this.curMoveItemObj;if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchMove"+this.curComponentIndex.toString(),value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){var e=0,i=0,n=0,r=0,s=-2;if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){var o=(this.curMoveItemObj,t.stageX),h=t.stageY;n=t.stageX,r=t.stageY,this.curMoveItemObj.x=o,this.curMoveItemObj.y=h;var a=this.rectCanSet.hitTestPoint(o,h);if(a)e=0,this.isNewItem?(i=1,this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):(i=0,this.curMoveItemObj=null);else if(e=1,this.isNewItem)i=1,this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else{i=0;var c=0;for(var v in this.targetList){var g=this.targetList[v];g==this.curMoveItemObj&&(c=parseInt(v))}s=c,this.targetList.splice(c,1),this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}}var u=new Object;u.isCancelStr=e.toString(),u.isNewItemStr=i.toString(),u.targetX=n.toString(),u.targetY=r.toString(),u.deleteIndex=s.toString();var l={method:"onFileMessage",keyName:"touchEndLayer"+this.curComponentIndex.toString(),value:u};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",l,!1))},e.prototype.onDestroy=function(){this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t["reset"+this.curComponentIndex.toString()])this.resetData();else if(t["touchBegin"+this.curComponentIndex.toString()]){var e=t["touchBegin"+this.curComponentIndex.toString()],i=e.isNewItem,n=e.curIndexStr,r=parseInt(e.targetX),s=parseInt(e.targetY);this.revStartHandle(i,n,r,s)}else if(t["touchMove"+this.curComponentIndex.toString()]){var e=t["touchMove"+this.curComponentIndex.toString()],r=parseInt(e.targetX),s=parseInt(e.targetY);this.revMoveHandle(r,s)}else if(t["touchEndLayer"+this.curComponentIndex.toString()]){var e=t["touchEndLayer"+this.curComponentIndex.toString()],o=e.isCancelStr,h=e.isNewItemStr,r=parseInt(e.targetX),s=parseInt(e.targetY),a=parseInt(e.deleteIndex);this.revEndHandle(o,h,r,s,a)}},e.prototype.initData=function(){this.targetList=[]},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset&&this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchBeginOriginalEvent=function(t){var e=this.ImgList.indexOf(t.target);if(e>=-1){this.curMoveItemIndex=e,this.isNewItem=!0,this.curMoveItemObj=this.newObjForTouchBegin(t.target,t.stageX,t.stageY);var i=new Object;i.isNewItem="1",i.curIndexStr=e.toString(),i.targetX=t.stageX.toString(),i.targetY=t.stageY.toString();var n={method:"onFileMessage",keyName:"touchBegin"+this.curComponentIndex.toString(),value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}},e.prototype.newObjForTouchBegin=function(t,e,i){var n=this.group.globalToLocal(e,i),r=t.source,s=new eui.Image(r);return s.anchorOffsetX=t.anchorOffsetX,s.anchorOffsetY=t.anchorOffsetY,s.rotation=t.rotation,s.x=n.x,s.y=n.y,this.group.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),s},e.prototype.deleteObj=function(t){t&&(t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),this.group.removeChild(t))},e.prototype.touchBeginMakedItemEvent=function(t){var e=0;for(var i in this.targetList){var n=this.targetList[i];n==t.currentTarget&&(e=parseInt(i))}if(e>=-1){var r=this.group.numChildren;this.group.setChildIndex(t.target,r-1),this.curMoveItemIndex=e,this.isNewItem=!1,this.curMoveItemObj=t.target;var n=new Object;n.isNewItem="0",n.curIndexStr=e.toString(),n.targetX=t.stageX.toString(),n.targetY=t.stageY.toString();var s={method:"onFileMessage",keyName:"touchBegin"+this.curComponentIndex.toString(),value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}},e.prototype.resetData=function(){if(this.targetList&&this.targetList.length>0){for(var t=0,e=this.targetList;t<e.length;t++){var i=e[t];this.deleteObj(i)}this.targetList=[]}},e.prototype.touchTapEvent=function(t){this.resetData();var e={method:"onFileMessage",keyName:"reset"+this.curComponentIndex.toString(),value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.destoryData=function(){delete this.ImgList,this.ImgList=[],this.resetData()},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset&&this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.revStartHandle=function(t,e,i,n){if("1"==t){var r=parseInt(e),s=this.ImgList[r];s?this.curMoveItemObj=this.newObjForTouchBegin(s,i,n):Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 1")}else{var r=parseInt(e),s=this.targetList[r];if(s){var o=this.group.numChildren;this.group.setChildIndex(s,o-1),this.curMoveItemObj=s}else Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 0")}},e.prototype.revMoveHandle=function(t,e){var i=this.curMoveItemObj;if(i){var n=this.globalToLocal(t,e);i.x=n.x,i.y=n.y}},e.prototype.revEndHandle=function(t,e,i,n,r){if("1"==t)if("1"==e)this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else if(r>=-1){var s=r;this.targetList.splice(s,1),this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else Log.trace("DragAnyMakeForMaxAndCancleScene","revEndHandle error  index to obj not find ");else"1"==e?(this.curMoveItemObj&&this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):this.curMoveItemObj=null},e}(eui.Component);__reflect(DragAnyMakeAndCancleComponent.prototype,"DragAnyMakeAndCancleComponent");var DragAnyMakeForMaxAndCancleScene=function(t){function e(){var e=t.call(this)||this;return e.isNewItem=!1,e.ImgList=[],e.numMax=1,e.curMoveItemIndex=-2,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t.reset)this.resetData();else if(t.touchBegin){var e=t.touchBegin.isNewItem,i=t.touchBegin.curIndexStr,n=parseInt(t.touchBegin.targetX),r=parseInt(t.touchBegin.targetY);this.revStartHandle(e,i,n,r)}else if(t.touchMove){var n=parseInt(t.touchMove.targetX),r=parseInt(t.touchMove.targetY);this.revMoveHandle(n,r)}else if(t.touchEndLayer){var s=t.touchEndLayer.isCancelStr,o=t.touchEndLayer.isNewItemStr,n=parseInt(t.touchEndLayer.targetX),r=parseInt(t.touchEndLayer.targetY),h=parseInt(t.touchEndLayer.deleteIndex);this.revEndHandle(s,o,n,r,h)}},e.prototype.initData=function(){this.targetList=[]},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchBeginOriginalEvent=function(t){var e=this.ImgList.indexOf(t.target);if(e>=-1){this.curMoveItemIndex=e,this.isNewItem=!0,this.curMoveItemObj=this.newObjForTouchBegin(t.target,t.stageX,t.stageY);var i=new Object;i.isNewItem="1",i.curIndexStr=e.toString(),i.targetX=t.stageX.toString(),i.targetY=t.stageY.toString();
var n={method:"onFileMessage",keyName:"touchBegin",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}},e.prototype.newObjForTouchBegin=function(t,e,i){var n=this.group.globalToLocal(e,i),r=t.source,s=new eui.Image(r);return s.anchorOffsetX=t.anchorOffsetX,s.anchorOffsetY=t.anchorOffsetY,s.rotation=t.rotation,s.x=n.x,s.y=n.y,this.group.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),s},e.prototype.deleteObj=function(t){t&&(t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),this.group.removeChild(t))},e.prototype.touchBeginMakedItemEvent=function(t){var e=0;for(var i in this.targetList){var n=this.targetList[i];n==t.currentTarget&&(e=parseInt(i))}if(e>=-1){var r=this.group.numChildren;this.group.setChildIndex(t.target,r-1),this.curMoveItemIndex=e,this.isNewItem=!1,this.curMoveItemObj=t.target;var n=new Object;n.isNewItem="0",n.curIndexStr=e.toString(),n.targetX=t.stageX.toString(),n.targetY=t.stageY.toString();var s={method:"onFileMessage",keyName:"touchBegin",value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveItemObj){var e=this.curMoveItemObj;if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchMove",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){var e=0,i=0,n=0,r=0,s=-2;if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){var o=(this.curMoveItemObj,t.stageX),h=t.stageY;n=t.stageX,r=t.stageY,this.curMoveItemObj.x=o,this.curMoveItemObj.y=h;var a=this.rectCancle.hitTestPoint(o,h);if(a)if(e=1,this.isNewItem)i=1,this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else{i=0;var c=0;for(var v in this.targetList){var g=this.targetList[v];g==this.curMoveItemObj&&(c=parseInt(v))}s=c,this.targetList.splice(c,1),this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else e=0,this.isNewItem?(i=1,this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):(i=0,this.curMoveItemObj=null)}var u=new Object;u.isCancelStr=e.toString(),u.isNewItemStr=i.toString(),u.targetX=n.toString(),u.targetY=r.toString(),u.deleteIndex=s.toString();var l={method:"onFileMessage",keyName:"touchEndLayer",value:u};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",l,!1))},e.prototype.resetData=function(){if(this.targetList&&this.targetList.length>0){for(var t=0,e=this.targetList;t<e.length;t++){var i=e[t];this.deleteObj(i)}this.targetList=[]}},e.prototype.touchTapEvent=function(t){this.resetData();var e={method:"onFileMessage",keyName:"reset",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.destoryData=function(){delete this.ImgList,this.ImgList=[],this.resetData()},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.revStartHandle=function(t,e,i,n){if("1"==t){var r=parseInt(e),s=this.ImgList[r];s?this.curMoveItemObj=this.newObjForTouchBegin(s,i,n):Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 1")}else{var r=parseInt(e),s=this.targetList[r];if(s){var o=this.group.numChildren;this.group.setChildIndex(s,o-1),this.curMoveItemObj=s}else Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 0")}},e.prototype.revMoveHandle=function(t,e){var i=this.curMoveItemObj;if(i){var n=this.globalToLocal(t,e);i.x=n.x,i.y=n.y}},e.prototype.revEndHandle=function(t,e,i,n,r){if("1"==t)if("1"==e)this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else if(r>=-1){var s=r;this.targetList.splice(s,1),this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else Log.trace("DragAnyMakeForMaxAndCancleScene","revEndHandle error  index to obj not find ");else"1"==e?(this.curMoveItemObj&&this.targetList.push(this.curMoveItemObj),this.curMoveItemObj=null):this.curMoveItemObj=null},e}(UIObject);__reflect(DragAnyMakeForMaxAndCancleScene.prototype,"DragAnyMakeForMaxAndCancleScene");var BalanceComponent=function(){function t(){this.rotMax=30,this.numWeightRotMax=30}return t.prototype.initData=function(){this.imgListLeft=[],this.imgListRight=[],this.imgListBalanceLine=[],this.numWeightLeftInit=0,this.numWeightRightInit=0,this.numWeightLeftCur=0,this.numWeightRightCur=0,this.rotMax=30,this.numWeightRotMax=30,this.pointCenter=new egret.Point(0,0)},t.prototype.onInit=function(){this.startRotTween(0,0,!0)},t.prototype.onDestroy=function(){},t.prototype.setLeftItemObjList=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null)},t.prototype.setRightItemObjList=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null)},t.prototype.startRotTween=function(t,e,i){void 0===i&&(i=!1);var n=!1;if(t==this.numWeightLeftCur&&e==this.numWeightRightCur&&(n=!0),this.numWeightLeftCur+this.numWeightLeftInit-this.numWeightRightCur-this.numWeightRightInit>=this.numWeightRotMax&&t+this.numWeightLeftInit-e-this.numWeightRightInit>=this.numWeightRotMax&&(n=!0),this.numWeightRightCur+this.numWeightRightInit-this.numWeightLeftCur-this.numWeightLeftInit>=this.numWeightRotMax&&e+this.numWeightRightInit-t-this.numWeightLeftInit>=this.numWeightRotMax&&(n=!0),n&&!i)return this.setLeftItemObjList(),void this.setRightItemObjList();this.numWeightLeftCur=t,this.numWeightRightCur=e;var r=200;i&&(r=0);var s=0;if(this.numWeightLeftCur+this.numWeightLeftInit==this.numWeightRightCur+this.numWeightRightInit)s=0;else if(this.numWeightLeftCur+this.numWeightLeftInit==0)s=this.rotMax;else if(this.numWeightRightCur+this.numWeightRightInit==0)s=-this.rotMax;else{var o=(-this.numWeightLeftCur-this.numWeightLeftInit+this.numWeightRightCur+this.numWeightRightInit)/this.numWeightRotMax;-1>o&&(o=-1),o>1&&(o=1),s=this.rotMax*o}for(var h=0,a=this.imgListBalanceLine;h<a.length;h++){var c=a[h];egret.Tween.removeTweens(c),egret.Tween.get(c).to({rotation:s},r)}for(var v=null,g=null,u=0,l=this.imgListLeft;u<l.length;u++){var c=l[u],d=egret.Point.distance(this.pointCenter,new egret.Point(c.x,c.y)),p=this.pointCenter.x-Math.cos(s*Math.PI/180)*d,m=this.pointCenter.y-Math.sin(s*Math.PI/180)*d;egret.Tween.removeTweens(c),egret.Tween.get(c).to({x:p,y:m},r),null==v&&(v=p),null==g&&(g=m)}for(var I=null,L=null,f=0,y=this.imgListRight;f<y.length;f++){var c=y[f],d=egret.Point.distance(this.pointCenter,new egret.Point(c.x,c.y)),E=this.pointCenter.x+Math.cos(s*Math.PI/180)*d,T=this.pointCenter.y+Math.sin(s*Math.PI/180)*d;egret.Tween.removeTweens(c),egret.Tween.get(c).to({x:E,y:T},r),null==I&&(I=E),null==L&&(L=T)}this.setLeftItemObjList(r,v,g),this.setRightItemObjList(r,I,L)},t}();__reflect(BalanceComponent.prototype,"BalanceComponent");var DragAnyMakeRuleListCommonScene=function(t){function e(){var e=t.call(this)||this;return e.targetDataMap={},e.isNewItem=!1,e.ImgList=[],e.rectCanSetList=[],e.numMax=1,e.curMoveItemIndex=-2,e.countImgList=[],e.curNumImgList=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent(),this.instanceDataForInitAll(),this.refreshForListTouchEnd()},e.prototype.onDestroy=function(){this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t.reset)this.resetData(),this.instanceDataForInitAll(),this.refreshForListTouchEnd();else if(t.touchBegin){var e=t.touchBegin.isNewItem,i=t.touchBegin.curIndexStr,n=parseInt(t.touchBegin.targetX),r=parseInt(t.touchBegin.targetY);this.revStartHandle(e,i,n,r)}else if(t.touchMove){var n=parseInt(t.touchMove.targetX),r=parseInt(t.touchMove.targetY);this.revMoveHandle(n,r)}else if(t.touchEndLayer){var s=t.touchEndLayer.isCancelStr,o=t.touchEndLayer.isNewItemStr,n=parseInt(t.touchEndLayer.targetX),r=parseInt(t.touchEndLayer.targetY),h=parseInt(t.touchEndLayer.deleteIndex),a=parseInt(t.touchEndLayer.targetListIndex);this.revEndHandle(s,o,n,r,h,a)}},e.prototype.initData=function(){if(this.targetList=[],this.targetDataMap={},this.curNumImgList=[],this.countImgList.length<=0)for(var t=0;t<this.ImgList.length;t++)this.countImgList[t]=9999,this.curNumImgList[t]=0;else for(var t=0;t<this.ImgList.length;t++)this.curNumImgList[t]=0},e.prototype.instanceDataForInitAll=function(){},e.prototype.instanceForInit=function(t,e,i){var n=this.getItemForInit(t);return this.instanceDataForInit(n,e,i),n},e.prototype.getItemForInit=function(t){var e=new eui.Image(t);return this.group.addChild(e),e},e.prototype.instanceDataForInit=function(t,e,i){t&&null!=e&&null!=i&&(this.targetList.push(t),this.pushToTarget(t,e,i),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this))},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset&&this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchBeginOriginalEvent=function(t){this.errorEndEventFunc(),t.stopPropagation();var e=this.ImgList.indexOf(t.target);if(e>=-1){this.curMoveItemIndex=e,this.isNewItem=!0,this.curMoveItemObj=this.newObjForTouchBegin(t.target,t.stageX,t.stageY);var i=new Object;i.isNewItem="1",i.curIndexStr=e.toString(),i.targetX=t.stageX.toString(),i.targetY=t.stageY.toString();var n={method:"onFileMessage",keyName:"touchBegin",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1)),this.refreshToIsHideTouchBegin(e)}},e.prototype.newObjForTouchBegin=function(t,e,i){var n=this.group.globalToLocal(e,i),r=t.source,s=new eui.Image(r);return s.anchorOffsetX=t.anchorOffsetX,s.anchorOffsetY=t.anchorOffsetY,s.rotation=t.rotation,s.x=n.x,s.y=n.y,this.group.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),s},e.prototype.deleteObj=function(t){t&&(t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginMakedItemEvent,this),egret.Tween.removeTweens(t),this.group.removeChild(t))},e.prototype.touchBeginMakedItemEvent=function(t){if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){if(this.curMoveItemObj==t.currentTarget)return;this.errorEndEventFunc()}t.stopPropagation();var e=-1;for(var i in this.targetList){var n=this.targetList[i];n==t.currentTarget&&(e=parseInt(i))}if(e>=-1){var r=this.group.numChildren;this.group.setChildIndex(t.target,r-1),this.curMoveItemIndex=e,this.isNewItem=!1,this.curMoveItemObj=t.target;var n=new Object;n.isNewItem="0",n.curIndexStr=e.toString(),n.targetX=t.stageX.toString(),n.targetY=t.stageY.toString();var s={method:"onFileMessage",keyName:"touchBegin",value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1))}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveItemObj){var e=this.curMoveItemObj;if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchMove",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchBeginLayerEvent=function(t){this.errorEndEventFunc()},e.prototype.touchEndLayerEvent=function(t){var e=0,i=0,n=0,r=0,s=-2,o=-1;if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){var h=(this.curMoveItemObj,t.stageX),a=t.stageY;if(n=t.stageX,r=t.stageY,this.curMoveItemObj.x=h,this.curMoveItemObj.y=a,o=this.getRectIndexCanSet(h,a),this.isCanSetToRect(this.curMoveItemIndex,o,this.curMoveItemObj,this.isNewItem)||(o=-1),-1>=o)if(e=1,this.isNewItem)i=1,this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else{i=0;var c=0;for(var v in this.targetList){var g=this.targetList[v];g==this.curMoveItemObj&&(c=parseInt(v))}s=c,this.targetList.splice(c,1),this.removeToTarget(this.curMoveItemObj),this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null}else e=0,this.isNewItem?(i=1,this.targetList.push(this.curMoveItemObj),this.pushToTarget(this.curMoveItemObj,this.curMoveItemIndex,o),this.curMoveItemObj=null):(i=0,this.refreshToTarget(this.curMoveItemObj,o),this.curMoveItemObj=null)}var u=new Object;u.isCancelStr=e.toString(),u.isNewItemStr=i.toString(),u.targetX=n.toString(),u.targetY=r.toString(),u.deleteIndex=s.toString(),u.targetListIndex=o.toString();var l={method:"onFileMessage",keyName:"touchEndLayer",value:u};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",l,!1)),this.refreshForListTouchEnd()},e.prototype.resetData=function(){if(this.targetList&&this.targetList.length>0){for(var t=0,e=this.targetList;t<e.length;t++){var i=e[t];this.deleteObj(i)}this.targetList=[]}this.targetDataMap={};for(var n=0;n<this.curNumImgList.length;n++)this.curNumImgList[n]=0},e.prototype.touchTapEvent=function(t){this.resetData(),this.instanceDataForInitAll(),this.refreshForListTouchEnd();var e={method:"onFileMessage",keyName:"reset",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.destoryData=function(){delete this.ImgList,this.ImgList=[],delete this.rectCanSetList,this.rectCanSetList=[],delete this.targetDataMap,this.targetDataMap={},delete this.countImgList,this.countImgList=[],delete this.curNumImgList,this.curNumImgList=[],this.resetData()},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginOriginalEvent,this)}this.btnReset&&this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.revStartHandle=function(t,e,i,n){if(this.curMoveItemIndex=-2,"1"==t){var r=parseInt(e),s=this.ImgList[r];s?(this.curMoveItemObj=this.newObjForTouchBegin(s,i,n),this.isNewItem=!0,this.curMoveItemIndex=parseInt(e)):Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 1"),this.refreshToIsHideTouchBegin(r)}else{var r=parseInt(e),s=this.targetList[r];if(s){this.isNewItem=!1;var o=this.group.numChildren;this.group.setChildIndex(s,o-1),this.curMoveItemObj=s}else Log.trace("DragAnyMakeForMaxAndCancleScene","revStartHandle error  index to obj not find isNewItemStr = 0")}},e.prototype.revMoveHandle=function(t,e){var i=this.curMoveItemObj;if(i){var n=this.globalToLocal(t,e);i.x=n.x,i.y=n.y}},e.prototype.revEndHandle=function(t,e,i,n,r,s){if("1"==t)if("1"==e)this.curMoveItemObj&&this.deleteObj(this.curMoveItemObj),this.curMoveItemObj=null;else if(r>=-1){var o=r;this.targetList.splice(o,1),this.curMoveItemObj&&(this.deleteObj(this.curMoveItemObj),this.removeToTarget(this.curMoveItemObj)),this.curMoveItemObj=null}else Log.trace("DragAnyMakeForMaxAndCancleScene","revEndHandle error  index to obj not find ");else"1"==e?(this.curMoveItemObj&&(this.targetList.push(this.curMoveItemObj),s>-1&&this.pushToTarget(this.curMoveItemObj,this.curMoveItemIndex,s)),this.curMoveItemIndex=-2,this.curMoveItemObj=null):(this.refreshToTarget(this.curMoveItemObj,s),this.curMoveItemObj=null);this.refreshForListTouchEnd()},e.prototype.getRectIndexCanSet=function(t,e){for(var i in this.rectCanSetList){var n=this.rectCanSetList[i];if(n.hitTestPoint(t,e))return parseInt(i)}return-1},e.prototype.isCanSetToRect=function(t,e,i,n){if(n)return this.isCanSetToRectForReal(t,e,i,n);var r=this.getDataFromTargetDataMap(i);return r?this.isCanSetToRectForReal(r.index,e,i,n):!0},e.prototype.isCanSetToRectForReal=function(t,e,i,n){return!0},e.prototype.isCanSetToRectForRectMax=function(t,e,i){if(this.targetDataMap[t]&&this.targetDataMap[t].length>0){if(this.targetDataMap[t].length<i)return!0;if(this.targetDataMap[t].length==i){for(var n=0,r=this.targetDataMap[t];n<r.length;n++){var s=r[n];if(s.obj==e)return!0}return!1}return!1}return!0},e.prototype.pushToTarget=function(t,e,i){var n=null;if(this.targetDataMap[i]){n=this.targetDataMap[i];var r={obj:t,index:e};n.push(r)}else n=[{obj:t,index:e}],this.targetDataMap[i]=n;this.curNumImgList[e]++},e.prototype.removeToTarget=function(t){for(var e in this.targetDataMap){var i=this.targetDataMap[e];if(i)for(var n in i){var r=i[parseInt(n)];if(r&&r.obj==t)return i.splice(n,1),void this.curNumImgList[r.index]--}}},e.prototype.refreshToTarget=function(t,e){for(var i in this.targetDataMap){var n=this.targetDataMap[i];if(n)for(var r in n){var s=n[parseInt(r)];if(s&&s.obj==t)return this.removeToTarget(t),void this.pushToTarget(s.obj,s.index,e)}}},e.prototype.getDataFromTargetDataMap=function(t){for(var e in this.targetDataMap){var i=this.targetDataMap[e];if(i)for(var n in i){var r=i[parseInt(n)];if(r&&r.obj==t)return r}}return null},e.prototype.refreshToIsHideTouchBegin=function(t){for(var e in this.ImgList){var i=parseInt(e),n=this.ImgList[i],r=0;i==t&&(r=1),n&&(this.curNumImgList[i]+r<this.countImgList[i]?n.visible=!0:n.visible=!1)}},e.prototype.refreshForListTouchEnd=function(){for(var t in this.ImgList){var e=parseInt(t),i=this.ImgList[e];i&&(this.curNumImgList[e]<this.countImgList[e]?i.visible=!0:i.visible=!1)}},e.prototype.errorEndEventFunc=function(){if(this.curMoveItemIndex>=-1&&this.curMoveItemObj){var t=new egret.TouchEvent(egret.TouchEvent.TOUCH_END,null,null,999999,999999);this.touchEndLayerEvent(t)}},e}(UIObject);__reflect(DragAnyMakeRuleListCommonScene.prototype,"DragAnyMakeRuleListCommonScene");var DragAnyOptionalChooseBtn=function(t){function e(){var e=t.call(this)||this;return e.ImgList=[],e.rectListSelect=[],e.imgPosList=[],e.imgSelected=null,e.curMoveIndex=-1,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destroyEvent(),this.destroyData()},e.prototype.execMessage=function(t){if(t.reset)this.resetData();else if(t.choose){var e=parseInt(t.choose.chooseIndex);this.revChooseHandle(e)}else if(t.touchBegin){var i=parseInt(t.touchBegin.clickIndex),n=parseInt(t.touchBegin.targetX),r=parseInt(t.touchBegin.targetY);this.revStartHandle(i,n,r)}else if(t.touchMoveLayer){var i=parseInt(t.touchMoveLayer.clickIndex),n=parseInt(t.touchMoveLayer.targetX),r=parseInt(t.touchMoveLayer.targetY);this.revMoveLayerHandle(i,n,r)}else if(t.touchEndLayer){var i=parseInt(t.touchEndLayer.clickIndex),n=parseInt(t.touchEndLayer.targetX),r=parseInt(t.touchEndLayer.targetY);this.revEndLayerHandle(i,n,r)}},e.prototype.initData=function(){this.curMoveIndex=-1,this.imgPosList=[];for(var t in this.ImgList){var e=this.ImgList[parseInt(t)];e&&(this.imgPosList[parseInt(t)]=new egret.Point(e.x,e.y))}this.imgSelected&&(this.imgSelected.visible=!1)},e.prototype.initSelectData=function(t,e,i){t&&e&&null!=i?(this.rectListSelect=t,this.imgSelected=e,this.indexTrueAnswer=i):Log.trace("DragAnyOptionalChooseBtn","initSelectData error args is null")},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}if(this.rectListSelect)for(var n=0,r=this.rectListSelect;n<r.length;n++){var i=r[n];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapResetEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.resetData=function(){for(var t in this.ImgList){var e=this.ImgList[parseInt(t)],i=this.imgPosList[parseInt(t)];e&&(e.x=i.x,e.y=i.y)}},e.prototype.touchTapResetEvent=function(t){this.resetData();var e={method:"onFileMessage",keyName:"reset",value:"1"};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.touchTapChooseRectEvent=function(t){var e=this.rectListSelect.indexOf(t.currentTarget);if(e>-1){this.imgSelected&&(this.imgSelected.visible=!0,this.imgSelected.x=t.currentTarget.x,this.imgSelected.y=t.currentTarget.y),e==this.indexTrueAnswer?lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:1,movie:"success",movieCount:2},!1)):lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:2,movie:"failed",movieCount:2},!1));var i=new Object;i.chooseIndex=e.toString();var n={method:"onFileMessage",keyName:"choose",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}else Log.trace("DragAnyOptionalChooseBtn"," touchTapChooseRectEvent error  index error ")},e.prototype.touchBeginEvent=function(t){var e=this.ImgList.indexOf(t.currentTarget);if(e>=0){var i=this.group.numChildren;this.group.setChildIndex(t.target,i-1),this.curMoveIndex=e;var n=new Object;n.clickIndex=e.toString(),n.targetX=t.stageX.toString(),n.targetY=t.stageY.toString();var r={method:"onFileMessage",keyName:"touchBegin",value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",r,!1))}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveIndex>=0){var e=this.ImgList[this.curMoveIndex];if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.clickIndex=this.curMoveIndex.toString(),s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchMoveLayer",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){if(this.curMoveIndex>=0){var e=this.ImgList[this.curMoveIndex];if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x,e.y=r.y;var s=new Object;s.clickIndex=this.curMoveIndex.toString(),s.targetX=e.x.toString(),s.targetY=e.y.toString();var o={method:"onFileMessage",keyName:"touchEndLayer",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1)),this.curMoveIndex=-1}}},e.prototype.destroyData=function(){this.resetData(),delete this.ImgList,this.ImgList=[],delete this.rectListSelect,this.rectListSelect=[],delete this.imgSelected,this.imgSelected=null,delete this.imgPosList,this.imgPosList=[]},e.prototype.destroyEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}if(this.rectListSelect)for(var n=0,r=this.rectListSelect;n<r.length;n++){var i=r[n];i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapChooseRectEvent,this)}this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapResetEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.revChooseHandle=function(t){if(t>-1){var e=this.rectListSelect[t];this.imgSelected&&e&&(this.imgSelected.visible=!0,this.imgSelected.x=e.x,this.imgSelected.y=e.y),t==this.indexTrueAnswer?lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:1,movie:"success",movieCount:2},!1)):lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("show_commonmovie",{soundType:2,movie:"failed",movieCount:2},!1))}},e.prototype.revStartHandle=function(t,e,i){var n=this.ImgList[t];if(n){var r=this.group.numChildren;this.group.setChildIndex(n,r-1)}else Log.trace("DragAnyOptionalChooseBtn","revStartHandle error target not find")},e.prototype.revMoveLayerHandle=function(t,e,i){var n=this.ImgList[t];n?(n.x=e,n.y=i):Log.trace("DragAnyOptionalChooseBtn","revMoveLayerHandle error target not find")},e.prototype.revEndLayerHandle=function(t,e,i){var n=this.ImgList[t];n?(n.x=e,n.y=i):Log.trace("DragAnyOptionalChooseBtn","revEndLayerHandle error target not find")},e}(UIObject);__reflect(DragAnyOptionalChooseBtn.prototype,"DragAnyOptionalChooseBtn");var DropAnyToRuleRectScene=function(t){function e(){var e=t.call(this)||this;return e.ImgList=[],e.ruleRectList=[],e.imgPosList=[],e.curMoveIndex=-1,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.resetImgPosForList(),this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t.touchMove){var e=t.touchMove.name,i=Number(t.touchMove.targetX),n=Number(t.touchMove.targetY);this.revMoveingHandle(e,i,n)}else if(t.touchEndLayer){var r=t.touchEndLayer.moveName,i=Number(t.touchEndLayer.targetX),n=Number(t.touchEndLayer.targetY),s=t.touchEndLayer.isResetStr;this.revMoveEndLayerHandle(r,s,i,n)}},e.prototype.initData=function(){this.curMoveIndex=-1,this.imgPosList=[];for(var t=0;t<this.ImgList.length;t++){var e=this.ImgList[t];e&&this.imgPosList.push(new egret.Point(e.x,e.y))}},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}for(var n=0,r=this.ruleRectList;n<r.length;n++){var s=r[n];s.touchEnabled=!1}this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.resetImgPosForList=function(){for(var t in this.ImgList){var e=this.ImgList[t],i=this.imgPosList[t];e&&i&&(e.x=i.x,e.y=i.y)}},e.prototype.destoryData=function(){this.curMoveIndex=-1,delete this.ImgList,this.ImgList=[],delete this.ruleRectList,this.ruleRectList=[],delete this.imgPosList,this.imgPosList=[]},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}for(var n=0,r=this.ruleRectList;n<r.length;n++){var s=r[n];s.touchEnabled=!1}this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchBeginEvent=function(t){var e=this.ImgList.indexOf(t.target);if(e>=0){var i=this.group.numChildren;this.group.setChildIndex(t.target,i-1),this.curMoveIndex=e}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveIndex>=0){var e=this.ImgList[this.curMoveIndex];if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x-e.width/2,e.y=r.y-e.height/2;var s=new Object;s.name=this.curMoveIndex.toString(),s.targetX=e.x,s.targetY=e.y;var o={method:"onFileMessage",keyName:"touchMove",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){var e="",i="true";if(this.curMoveIndex>=0){var n=this.ImgList[this.curMoveIndex];if(n){var r=t.stageX,s=t.stageY,o=this.getSiteIndexForGlobalPos(r,s);if(o>=0){var h=this.globalToLocal(r,s);n.x=h.x-n.width/2,n.y=h.y-n.height/2,e=this.curMoveIndex.toString(),i="false"}else{if(this.imgPosList[this.curMoveIndex]){var a=this.imgPosList[this.curMoveIndex];n.x=a.x,n.y=a.y}e=this.curMoveIndex.toString(),i="true"}}this.curMoveIndex=-1;var c=new Object;c.moveName=e,c.targetX=n.x,c.targetY=n.y,c.isResetStr=i;var v={method:"onFileMessage",keyName:"touchEndLayer",value:c};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",v,!1))}},e.prototype.getSiteIndexForGlobalPos=function(t,e){var i=this.globalToLocal(t,e),n=i.x,r=i.y;for(var s in this.ruleRectList){var o=this.ruleRectList[s];if(o&&o.hitTestPoint(n,r))return parseInt(s)}return-1},e.prototype.revMoveingHandle=function(t,e,i){if(t&&t.length>0){if(this.ImgList[t]){var n=this.ImgList[t];if(n){n.x=e,n.y=i;var r=this.group.numChildren;this.group.setChildIndex(n,r-1)}else Log.trace("DropAnyToRuleRectScene","revMoveingHandle data error please check")}}else Log.trace("DropAnyToRuleRectScene","revMoveingHandle data error please check")},e.prototype.revMoveEndLayerHandle=function(t,e,i,n){var r=this.ImgList[t];if(r){var s=i,o=n;if("false"==e){var h=this.globalToLocal(s,o);r.x=h.x,r.y=h.y}else if(this.imgPosList[t]){var a=this.imgPosList[t];r.x=a.x,r.y=a.y}}else Log.trace("DropAnyToRuleRectScene","revMoveEndLayerHandle data error please check")},e}(UIObject);__reflect(DropAnyToRuleRectScene.prototype,"DropAnyToRuleRectScene");var DropToRuleRectScene=function(t){function e(){var e=t.call(this)||this;return e.ImgList=[],e.ruleRectList=[],e.imgPosList=[],e.curMoveIndex=-1,e.objIndexToSiteIndexMap={},e.siteIndexToObjIndexMap={},e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.resetImgPosForList(),this.destoryEvent(),this.destoryData()},e.prototype.execMessage=function(t){if(t.touchMove){var e=t.touchMove.name,i=Number(t.touchMove.targetX),n=Number(t.touchMove.targetY);this.revMoveingHandle(e,i,n)}else if(t.touchEndLayer){var r=t.touchEndLayer.moveName,s=t.touchEndLayer.moveSite;this.revMoveEndLayerHandle(r,s)}},e.prototype.initData=function(){this.siteIndexToObjIndexMap={},this.objIndexToSiteIndexMap={},this.curMoveIndex=-1,this.imgPosList=[];for(var t=0;t<this.ImgList.length;t++){var e=this.ImgList[t];e&&this.imgPosList.push(new egret.Point(e.x,e.y)),this.objIndexToSiteIndexMap[t]=-1}for(var t=0;t<this.ruleRectList.length;t++)this.siteIndexToObjIndexMap[t]=-1},e.prototype.initAddEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}for(var n=0,r=this.ruleRectList;n<r.length;n++){var s=r[n];s.touchEnabled=!1}this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.resetImgPosForList=function(){for(var t in this.ImgList){var e=this.ImgList[t],i=this.imgPosList[t];e&&i&&(e.x=i.x,e.y=i.y)}},e.prototype.destoryData=function(){this.curMoveIndex=-1,delete this.siteIndexToObjIndexMap,this.siteIndexToObjIndexMap={},delete this.objIndexToSiteIndexMap,this.objIndexToSiteIndexMap={},delete this.ImgList,this.ImgList=[],delete this.ruleRectList,this.ruleRectList=[],delete this.imgPosList,this.imgPosList=[]},e.prototype.destoryEvent=function(){for(var t=0,e=this.ImgList;t<e.length;t++){var i=e[t];i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginEvent,this)}for(var n=0,r=this.ruleRectList;n<r.length;n++){var s=r[n];s.touchEnabled=!1}this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEndLayerEvent,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveLayerEvent,this)},e.prototype.touchBeginEvent=function(t){var e=this.ImgList.indexOf(t.target);if(e>=0){var i=this.group.numChildren;this.group.setChildIndex(t.target,i-1),this.curMoveIndex=e}},e.prototype.touchMoveLayerEvent=function(t){if(this.curMoveIndex>=0){var e=this.ImgList[this.curMoveIndex];if(e){var i=t.stageX,n=t.stageY,r=this.globalToLocal(i,n);e.x=r.x-e.width/2,e.y=r.y-e.height/2;var s=new Object;s.name=this.curMoveIndex.toString(),s.targetX=e.x,s.targetY=e.y;var o={method:"onFileMessage",keyName:"touchMove",value:s};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",o,!1))}}},e.prototype.touchEndLayerEvent=function(t){var e="",i="";if(this.curMoveIndex>=0){var n=this.ImgList[this.curMoveIndex];if(n){var r=t.stageX,s=t.stageY,o=this.getSiteIndexForGlobalPos(r,s);if(o>=0){if(this.isCanSetForSiteIndex(o)){var h=this.objIndexToSiteIndexMap[this.curMoveIndex];
h>=0&&(this.siteIndexToObjIndexMap[h]=-1),this.siteIndexToObjIndexMap[o]=this.curMoveIndex,this.objIndexToSiteIndexMap[this.curMoveIndex]=o,e=this.curMoveIndex.toString(),i=o.toString()}}else{var h=this.objIndexToSiteIndexMap[this.curMoveIndex];h>=0&&(this.siteIndexToObjIndexMap[h]=-1),this.objIndexToSiteIndexMap[this.curMoveIndex]=-1,e=this.curMoveIndex.toString(),i="-1"}}}this.curMoveIndex=-1,this.refreshView();var a=new Object;a.moveName=e,a.moveSite=i;var c={method:"onFileMessage",keyName:"touchEndLayer",value:a};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",c,!1))},e.prototype.isCanSetForSiteIndex=function(t){return null!=this.siteIndexToObjIndexMap[t]&&this.siteIndexToObjIndexMap[t]>=0?!1:!0},e.prototype.getSiteIndexForGlobalPos=function(t,e){var i=this.globalToLocal(t,e),n=i.x,r=i.y;for(var s in this.ruleRectList){var o=this.ruleRectList[s];if(o&&o.hitTestPoint(n,r))return parseInt(s)}return-1},e.prototype.refreshView=function(){for(var t in this.ImgList){var e=this.ImgList[t];if(e)if(null!=this.objIndexToSiteIndexMap[t]&&this.objIndexToSiteIndexMap[t]>=0){var i=this.objIndexToSiteIndexMap[t];if(this.ruleRectList[i]){var n=this.ruleRectList[i];e.x=n.x+n.width/2-e.width/2,e.y=n.y+n.height/2-e.height/2}}else if(this.imgPosList[t]){var r=this.imgPosList[t];e.x=r.x,e.y=r.y}}},e.prototype.revMoveingHandle=function(t,e,i){if(t&&t.length>0){var n=parseInt(t);if(null!=n&&this.ImgList[n]){var r=this.ImgList[n];if(r){r.x=e,r.y=i;var s=this.group.numChildren;this.group.setChildIndex(r,s-1)}else Log.trace("DropToRuleRectScene","revMoveingHandle data error please check")}}else Log.trace("DropToRuleRectScene","revMoveingHandle data error please check")},e.prototype.revMoveEndLayerHandle=function(t,e){if(t&&e&&e.length>0&&t.length>0){var i=parseInt(t),n=parseInt(e);if(n>=0){var r=this.objIndexToSiteIndexMap[i];r>=0&&(this.siteIndexToObjIndexMap[r]=-1),this.siteIndexToObjIndexMap[n]=i,this.objIndexToSiteIndexMap[i]=n}else{var r=this.objIndexToSiteIndexMap[i];r>=0&&(this.siteIndexToObjIndexMap[r]=-1),this.objIndexToSiteIndexMap[i]=-1}}else Log.trace("DropToRuleRectScene","revMoveEndHandle data error please check");this.refreshView()},e}(UIObject);__reflect(DropToRuleRectScene.prototype,"DropToRuleRectScene");var MakeNewToTargetScene=function(t){function e(){var e=t.call(this)||this;return e.clickItemArr=[],e.newItemSrcArr=[],e.comparisonArr=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.initScene(),this.initAddEvent()},e.prototype.onDestory=function(){for(var t=0;t<this.clickItemArr.length;t++)this.clickItemArr[t].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doTouchBeginHandle,this);this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.doTouchMoveHandle,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.doTouchEndHandle,this),this.backImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBackInitHandle,this)},e.prototype.execMessage=function(t){if(t.moveBegin){var e=t.moveBegin.name,i=t.moveBegin.src,n=Number(t.moveBegin.targetX),r=Number(t.moveBegin.targetY);this.revMoveBeginHandle(e,i,n,r)}else if(t.moveIng){var s=t.moveIng.name,n=Number(t.moveIng.targetX),r=Number(t.moveIng.targetY);this.revMoveingHandle(s,n,r)}else if(t.moveEnd){var o=t.moveEnd.name,n=Number(t.moveEnd.targetX),r=Number(t.moveEnd.targetY),h=Number(t.moveEnd.del);this.revMoveEndHandle(o,n,r,h)}else t.backInit&&this.initScene()},e.prototype.initScene=function(){this._newIndex=1,this.completeImg.visible=!1;for(var t=0;t<this.clickItemArr.length;t++)this.clickItemArr[t].name=String(t+1);for(var t=0;t<this.comparisonArr.length;t++)this.comparisonArr[t].visible=!1},e.prototype.initAddEvent=function(){for(var t=0;t<this.clickItemArr.length;t++)this.clickItemArr[t].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doTouchBeginHandle,this);this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.doTouchMoveHandle,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.doTouchEndHandle,this),this.backImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBackInitHandle,this)},e.prototype.doTouchBeginHandle=function(t){if(!this.completeImg.visible){var e=Number(t.currentTarget.name),i=new eui.Image;this.moveGroup.addChild(i),this.moveGroup.setChildIndex(i,this.moveGroup.numChildren-1),i.source=this.newItemSrcArr[e-1],i.x=t.stageX,i.y=t.stageY,i.scaleX=2.3,i.scaleY=2.3,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.name="newImg"+String(this._newIndex),this._newIndex++,this._touchImg=i,this._offsetX=t.stageX-this._touchImg.x,this._offsetY=t.stageY-this._touchImg.y;var n=new Object;n.name=i.name,n.src=i.source,n.targetX=this._touchImg.x,n.targetY=this._touchImg.y;var r={method:"onFileMessage",keyName:"moveBegin",value:n};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",r,!1))}},e.prototype.doTouchMoveHandle=function(t){var e=this._touchImg;if(e&&this._touchImg){this._touchImg.x=t.stageX-this._offsetX,this._touchImg.y=t.stageY-this._offsetY,this._touchImg.y-this._touchImg.height/2<0&&(this._touchImg.y=this._touchImg.height/2),this._touchImg.y+this._touchImg.height/2>1348&&(this._touchImg.y=1348-this._touchImg.height/2),this._touchImg.x-this._touchImg.width/2<0&&(this._touchImg.x=this._touchImg.width/2),this._touchImg.x+this._touchImg.width/2>1562&&(this._touchImg.x=1562-this._touchImg.width/2);var i=new Object;i.name=this._touchImg.name,i.targetX=this._touchImg.x,i.targetY=this._touchImg.y;var n={method:"onFileMessage",keyName:"moveIng",value:i};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}},e.prototype.doTouchEndHandle=function(t){if(this._touchImg){var e=this.isBingoCoordinateTarget(this._touchImg);if(e>0){this.completeImg.visible||(this.comparisonArr[e-1].visible=!0);for(var i=!1,n=0;n<this.comparisonArr.length;n++)if(!this.comparisonArr[n].visible){i=!0;break}if(!i){this.completeImg.visible=!0;for(var n=0;n<this.comparisonArr.length;n++)this.comparisonArr[n].visible=!1}}this.moveGroup.removeChild(this._touchImg);var r=new Object;r.name=this._touchImg.name,r.targetX=this._touchImg.x,r.targetY=this._touchImg.y,r.del=e;var s={method:"onFileMessage",keyName:"moveEnd",value:r};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",s,!1)),this._touchImg=null}},e.prototype.isBingoCoordinateTarget=function(t){for(var e=0;e<this.comparisonArr.length;e++)if(this.comparisonArr[e].hitTestPoint(t.x,t.y)&&t.source===this.comparisonArr[e].source)return e+1;return-1},e.prototype.doBackInitHandle=function(){var t={method:"onFileMessage",keyName:"backInit",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",t,!1)),this.initScene()},e.prototype.revMoveBeginHandle=function(t,e,i,n){var r=new eui.Image;this.moveGroup.addChild(r),this.moveGroup.setChildIndex(r,this.moveGroup.numChildren-1),r.source=e,r.x=i,r.y=n,r.scaleX=2.3,r.scaleY=2.3,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.name=t,this._touchImg=r},e.prototype.revMoveingHandle=function(t,e,i){this._touchImg=this.moveGroup.getChildByName(t),this._touchImg&&(this._touchImg.x=e,this._touchImg.y=i)},e.prototype.revMoveEndHandle=function(t,e,i,n){if(this._touchImg=this.moveGroup.getChildByName(t),this._touchImg){if(n>0){this.completeImg.visible||(this.comparisonArr[n-1].visible=!0);for(var r=!1,s=0;s<this.comparisonArr.length;s++)if(!this.comparisonArr[s].visible){r=!0;break}if(!r){this.completeImg.visible=!0;for(var s=0;s<this.comparisonArr.length;s++)this.comparisonArr[s].visible=!1}}this.moveGroup.removeChild(this._touchImg),this._touchImg=null}},e}(UIObject);__reflect(MakeNewToTargetScene.prototype,"MakeNewToTargetScene");var OnlyClickForBtnScene=function(t){function e(){var e=t.call(this)||this;return e.CurState=0,e.ImgList=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.CurState=0,this.refreshStateView(),this.initAddEvent()},e.prototype.onDestroy=function(){delete this.ImgList,this.ImgList=[],this.btnNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e.prototype.execMessage=function(t){t.next&&this.revNextLayerHandle()},e.prototype.initAddEvent=function(){this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e.prototype.touchTapEvent=function(t){this.CurState<this.ImgList.length&&this.CurState++,this.refreshStateView();var e={method:"onFileMessage",keyName:"next",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.refreshStateView=function(){for(var t in this.ImgList){var e=parseInt(t),i=this.ImgList[e];i&&(this.CurState<=e?i.visible=!1:i.visible=!0)}},e.prototype.revNextLayerHandle=function(){this.CurState++,this.refreshStateView()},e}(UIObject);__reflect(OnlyClickForBtnScene.prototype,"OnlyClickForBtnScene");var OnlyClickScene=function(t){function e(){var e=t.call(this)||this;return e.CurState=0,e.ImgList=[],e}return __extends(e,t),e.prototype.onAdd=function(){this.CurState=0,this.refreshStateView(),this.initAddEvent()},e.prototype.onDestroy=function(){delete this.ImgList,this.ImgList=[],this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e.prototype.execMessage=function(t){t.next&&this.revNextLayerHandle()},e.prototype.initAddEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e.prototype.touchTapEvent=function(t){this.CurState<this.ImgList.length&&this.CurState++,this.refreshStateView();var e={method:"onFileMessage",keyName:"next",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.refreshStateView=function(){for(var t in this.ImgList){var e=parseInt(t),i=this.ImgList[e];i&&(this.CurState<=e?i.visible=!1:i.visible=!0)}},e.prototype.revNextLayerHandle=function(){this.CurState++,this.refreshStateView()},e}(UIObject);__reflect(OnlyClickScene.prototype,"OnlyClickScene");var OnlySelectedScene=function(t){function e(){var e=t.call(this)||this;return e._arr=new Array,e}return __extends(e,t),e.prototype.onDestroy=function(){for(var t=0;t<this._arr.length;t++)for(var e=0;e<this._arr[t].length;e++)this._arr[t][e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doSelectedTouchHandle,this);delete this._arr,this._arr=[]},e.prototype.execMessage=function(t){if(t.selected){var e=String(t.selected);if(1==this._arr.length)for(var i=0;i<this._arr.length;i++)for(var n=0;n<this._arr[i].length;n++)this._arr[i][n].name===e?this._arr[i][n].alpha=1:this._arr[i][n].alpha=0;else for(var i=0;i<this._arr.length;i++)for(var n=0;n<this._arr[i].length;n++)if(this._arr[i][n].name===e){this._arr[i][n].alpha=1;for(var r=0;r<this._arr.length;r++)this._arr[r][n]!==this._arr[i][n]&&(this._arr[r][n].alpha=0);break}}},e.prototype.initScene=function(t){if(t.length<=0)return void Log.trace("onlySelectedScene","image arr error!!!");this._arr=t;for(var e=1,i=0;i<this._arr.length;i++)for(var n=0;n<this._arr[i].length;n++)this._arr[i][n].alpha=0,this._arr[i][n].addEventListener(egret.TouchEvent.TOUCH_TAP,this.doSelectedTouchHandle,this),this._arr[i][n].name="image"+String(e)+String(n),e++},e.prototype.doSelectedTouchHandle=function(t){if(1==this._arr.length)for(var e=0;e<this._arr.length;e++)for(var i=0;i<this._arr[e].length;i++)if(this._arr[e][i]===t.currentTarget){this._arr[e][i].alpha=1;var n={method:"onFileMessage",keyName:"selected",value:this._arr[e][i].name};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1))}else this._arr[e][i].alpha=0;else for(var e=0;e<this._arr.length;e++)for(var i=0;i<this._arr[e].length;i++)if(this._arr[e][i]===t.currentTarget){this._arr[e][i].alpha=1;var n={method:"onFileMessage",keyName:"selected",value:this._arr[e][i].name};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",n,!1));for(var r=0;r<this._arr.length;r++)this._arr[r][i]!==this._arr[e][i]&&(this._arr[r][i].alpha=0);break}},e}(UIObject);__reflect(OnlySelectedScene.prototype,"OnlySelectedScene");var TweenToCenterScene=function(t){function e(){var e=t.call(this)||this;return e.ImgLeftList=[],e.ImgRightList=[],e.ImgHideList=[],e.ImgShowList=[],e.numTweenTime=1e3,e}return __extends(e,t),e.prototype.onAdd=function(){this.initData(),this.initAddEvent()},e.prototype.onDestroy=function(){this.destoryEvent(),this.resetData(),this.destoryData()},e.prototype.execMessage=function(t){t.startTweenMerge&&this.startTweenMerge()},e.prototype.initData=function(){this.numCurTween=0,this.posLeftList=[];for(var t in this.ImgLeftList){var e=this.ImgLeftList[t];e&&(this.posLeftList[parseInt(t)]=new egret.Point(e.x,e.y))}this.posRightList=[];for(var t in this.ImgRightList){var e=this.ImgRightList[t];e&&(this.posRightList[parseInt(t)]=new egret.Point(e.x,e.y))}this.resetAllTweenAndPos()},e.prototype.initAddEvent=function(){this.btnMerge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e.prototype.touchTapEvent=function(t){this.startTweenMerge();var e={method:"onFileMessage",keyName:"startTweenMerge",value:1};lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent("tky_makepost",e,!1))},e.prototype.startTweenMerge=function(){var t=this;this.numCurTween=0,this.resetAllTweenAndPos();for(var e=function(){t.removeNumCurTween(),t.numCurTween<=0&&t.endTweenMerge()},i=function(i,n){t.addNumCurTween();var r=i.x+n.x,s=i.y+n.y;egret.Tween.get(i).to({x:r,y:s},t.numTweenTime).call(e)},n=0,r=this.ImgLeftList;n<r.length;n++){var s=r[n];i(s,this.posLeftOff)}for(var o=0,h=this.ImgRightList;o<h.length;o++){var s=h[o];i(s,this.posRightOff)}},e.prototype.resetAllTweenAndPos=function(){for(var t in this.ImgLeftList){var e=this.ImgLeftList[t],i=this.posLeftList[t];e&&i&&(e.x=i.x,e.y=i.y,egret.Tween.removeTweens(e))}for(var t in this.ImgRightList){var e=this.ImgRightList[t],i=this.posRightList[t];e&&i&&(e.x=i.x,e.y=i.y,egret.Tween.removeTweens(e))}for(var n=0,r=this.ImgShowList;n<r.length;n++){var e=r[n];e.visible=!1}for(var s=0,o=this.ImgHideList;s<o.length;s++){var e=o[s];e.visible=!0}},e.prototype.addNumCurTween=function(){this.numCurTween++},e.prototype.removeNumCurTween=function(){this.numCurTween--},e.prototype.endTweenMerge=function(){for(var t=0,e=this.ImgHideList;t<e.length;t++){var i=e[t];i.visible=!1}for(var n=0,r=this.ImgShowList;n<r.length;n++){var i=r[n];i.visible=!0}},e.prototype.resetData=function(){this.resetAllTweenAndPos()},e.prototype.destoryData=function(){delete this.ImgLeftList,this.ImgLeftList=[],delete this.posLeftList,this.posLeftList=[],delete this.ImgRightList,this.ImgRightList=[],delete this.posRightList,this.posRightList=[],delete this.ImgHideList,this.ImgHideList=[],delete this.ImgShowList,this.ImgShowList=[]},e.prototype.destoryEvent=function(){this.btnMerge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTapEvent,this)},e}(UIObject);__reflect(TweenToCenterScene.prototype,"TweenToCenterScene");